import{t as e}from"./IconChevronRight-WzbcZ2yo.js";import{a as t,c as n,d as r,f as i,i as a,l as o,n as s,o as c,r as l,s as u,t as d,u as f}from"./lib-UN7HGSF-.js";import{$t as p,A as m,Bt as h,Dn as g,Dt as _,E as v,Jt as y,K as b,Mt as x,Nt as ee,Pt as S,Q as te,Qt as C,S as w,W as T,X as ne,Xt as re,Y as ie,Yt as ae,Z as oe,Zt as E,_n as D,_t as O,an as k,bn as A,bt as j,cn as se,dn as M,en as ce,f as le,fn as ue,hn as N,j as de,jt as fe,l as pe,ln as me,lt as he,m as ge,mn as P,mt as _e,nn as ve,on as ye,pn as F,q as be,s as xe,sn as I,tn as L,u as Se,ut as Ce,vn as R,vt as we,wn as Te,xn as Ee,yn as De,zt as z}from"./index-D752YZjA.js";var Oe=S(`outline`,`info-small`,`InfoSmall`,[[`path`,{d:`M12 9h.01`}],[`path`,{d:`M11 12h1v4h1`}]]),ke=S(`filled`,`zoom-in-filled`,`ZoomInFilled`,[[`path`,{d:`M14 3.072a8 8 0 0 1 2.617 11.424l4.944 4.943a1.5 1.5 0 0 1 -2.008 2.225l-.114 -.103l-4.943 -4.944a8 8 0 0 1 -12.49 -6.332l-.006 -.285l.005 -.285a8 8 0 0 1 11.995 -6.643zm-4 2.928a1 1 0 0 0 -.993 .883l-.007 .117v2h-2l-.117 .007a1 1 0 0 0 0 1.986l.117 .007h2v2l.007 .117a1 1 0 0 0 1.986 0l.007 -.117v-2h2l.117 -.007a1 1 0 0 0 0 -1.986l-.117 -.007h-2v-2l-.007 -.117a1 1 0 0 0 -.993 -.883z`}]]),Ae=S(`filled`,`zoom-out-filled`,`ZoomOutFilled`,[[`path`,{d:`M14 3.072a8 8 0 0 1 2.617 11.424l4.944 4.943a1.5 1.5 0 0 1 -2.008 2.225l-.114 -.103l-4.943 -4.944a8 8 0 0 1 -12.49 -6.332l-.006 -.285l.005 -.285a8 8 0 0 1 11.995 -6.643zm-1 5.928h-6l-.117 .007a1 1 0 0 0 0 1.986l.117 .007h6l.117 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z`}]]);const je=async e=>{typeof e==`string`?await navigator.clipboard.writeText(e):await navigator.clipboard.write(e)};var Me=g(fe()),Ne=g(y()),B=null,{min:V,max:H,abs:Pe,floor:Fe}=Math,Ie=(e,t,n)=>V(n,H(t,e)),U=e=>[...e].sort((e,t)=>e-t),Le=typeof queueMicrotask==`function`?queueMicrotask:e=>{Promise.resolve().then(e)},W=()=>{let e;return[new Promise(t=>{e=t}),e]},G=e=>{let t;return()=>(e&&=(t=e(),void 0),t)},K=-1,q=(e,t,n)=>{let r=n?`unshift`:`push`;for(let n=0;n<t;n++)e[r](K);return e},Re=(e,t)=>{let n=e._sizes[t];return n===K?e._defaultItemSize:n},ze=(e,t,n)=>{let r=e._sizes[t]===K;return e._sizes[t]=n,e._computedOffsetIndex=V(t,e._computedOffsetIndex),r},J=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let n=e._computedOffsetIndex,r=e._offsets[n];for(;n<t;)r+=Re(e,n),e._offsets[++n]=r;return e._computedOffsetIndex=t,r},Y=(e,t,n=0,r=e._length-1)=>{for(;n<=r;){let i=Fe((n+r)/2);if(J(e,i)<=t){if(J(e,i+1)>t)return i;n=i+1}else r=i-1}return Ie(n,0,e._length-1)},Be=(e,t,n,r)=>{if(r=V(r,e._length-1),J(e,r)<=t){let i=Y(e,n,r);return[Y(e,t,r,i),i]}else{let i=Y(e,t,void 0,r);return[i,Y(e,n,i)]}},Ve=(e,t)=>{let n=0,r=[];e._sizes.forEach((e,i)=>{e!==K&&(r.push(e),i<t&&n++)}),e._computedOffsetIndex=-1;let i=U(r),a=i.length,o=a/2|0,s=a%2==0?(i[o-1]+i[o])/2:i[o],c=e._defaultItemSize;return((e._defaultItemSize=s)-c)*H(t-n,0)},He=(e,t,n)=>({_defaultItemSize:n?n[1]:t,_sizes:n&&n[0]?q(n[0].slice(0,V(e,n[0].length)),H(0,e-n[0].length)):q([],e),_length:e,_computedOffsetIndex:-1,_offsets:q([],e+1)}),Ue=e=>[e._sizes.slice(),e._defaultItemSize],We=(e,t,n)=>{let r=t-e._length;return e._computedOffsetIndex=n?-1:V(t-1,e._computedOffsetIndex),e._length=t,r>0?(q(e._offsets,r),q(e._sizes,r,n),e._defaultItemSize*r):(e._offsets.splice(r),(n?e._sizes.splice(0,-r):e._sizes.splice(r)).reduce((t,n)=>t-(n===K?e._defaultItemSize:n),0))},Ge=typeof window<`u`,Ke=()=>document.documentElement,qe=e=>e.ownerDocument,Je=e=>e.defaultView,Ye=G(()=>Ge?getComputedStyle(Ke()).direction===`rtl`:!1),Xe=G(()=>/iP(hone|od|ad)/.test(navigator.userAgent)?!0:navigator.platform===`MacIntel`&&navigator.maxTouchPoints>0),Ze=G(()=>`scrollBehavior`in Ke().style),Qe=2147483647,X=0,$e=1,et=2,Z=0,tt=1,nt=2,rt=1,it=2,at=3,ot=4,st=5,ct=6,lt=7,ut=8,Q=1,dt=2,ft=4,pt=8,mt=e=>H(e.$getTotalSize(),e.$getViewportSize()),ht=(e,t=40,n=0,r,i=!1)=>{let a=!!n,o=1,s=0,c=0,l=0,u=0,d=0,f=0,p=X,m=Z,h=B,g=[0,a?H(n-1,0):-1],_=0,v=He(e,t,r),y=new Set,b=()=>l-c,x=()=>b()+d+u,ee=(e,t)=>Be(v,e,t,g[0]),S=()=>J(v,v._length),te=e=>J(v,e)-d,C=e=>Re(v,e),w=(e,t=K)=>v._sizes[e]===t,T=e=>{e&&(Xe()&&p!==X||h&&m===tt?d+=e:u+=e)};return{$dispose:()=>{y.clear()},$getStateVersion:()=>o,$getCacheSnapshot:()=>Ue(v),$getRange:(e=200)=>{if(!s||a)return g;let t,n;if(f)[t,n]=g;else{let r=H(0,x()),a=r+s;i||(e=H(0,e),p!==$e&&(r-=e),p!==et&&(a+=e)),[t,n]=g=ee(H(0,r),H(0,a)),h&&(t=V(t,h[0]),n=H(n,h[1]))}return[H(t,0),V(n,v._length-1)]},$findStartIndex:()=>Y(v,x()),$findEndIndex:()=>Y(v,x()+s),$isUnmeasuredItem:w,$getItemOffset:te,$getItemSize:C,$getItemsLength:()=>v._length,$getScrollOffset:()=>l,$isScrolling:()=>p!==X,$getViewportSize:()=>s,$getStartSpacerSize:()=>c,$getTotalSize:S,_flushJump:()=>(f=u,u=0,[f,m===nt]),$subscribe:(e,t)=>{let n=[e,t];return y.add(n),()=>{y.delete(n)}},$update:(e,t)=>{let n,r,g=0;switch(e){case rt:{if(t===l&&m===Z)break;let e=f;f=0;let n=t-l,i=Pe(n);!(e&&i<Pe(e)+1)&&m===Z&&(p=n<0?et:$e),a&&=!1,l=t,g=ft;let o=b();o>=-s&&o<=S()&&(g+=Q,r=i>s);break}case it:g=pt,p!==X&&(n=!0,g+=Q),p=X,m=Z,h=B;break;case at:{let e=t.filter(([e,t])=>!w(e,t));if(!e.length)break;T(e.reduce((e,[t,n])=>((m===nt||(h&&m===tt?t<h[0]:te(t+(p===X&&m===Z?1:0))<b()))&&(e+=n-C(t)),e),0));for(let[t,n]of e){let e=C(t),r=ze(v,t,n);i&&(_+=r?n:n-e)}i&&s&&_>s&&(T(Ve(v,Y(v,x()))),i=!1),g=Q+dt,r=!0;break}case ot:s!==t&&(s||(r=!0),s=t,g=Q+dt);break;case st:t[1]?(T(We(v,t[0],!0)),m=nt,g=Q):(We(v,t[0]),g=Q);break;case ct:c=t;break;case lt:m=tt;break;case ut:h=ee(t,t+s),g=Q;break}g&&(o=(o&Qe)+1,n&&d&&(u+=d,d=0),y.forEach(([e,t])=>{g&e&&t(r)}))}}},gt=setTimeout,_t=(e,t)=>{let n,r=()=>{n!=B&&clearTimeout(n)},i=()=>{r(),n=gt(()=>{n=B,e()},t)};return i._cancel=r,i},vt=(e,t)=>t&&Ye()?-e:e,yt=(e,t,n,r,i,a)=>{let o=Date.now,s=0,c=!1,l=!1,u=!1,d=!1,f=_t(()=>{if(c||l){c=!1,f();return}u=!1,e.$update(it)},150),p=()=>{s=o(),u&&(d=!0),a&&e.$update(ct,a()),e.$update(rt,r()),f()},m=t=>{if(c||!e.$isScrolling()||t.ctrlKey)return;let r=o()-s;150>r&&50<r&&(n?t.deltaX:t.deltaY)&&(c=!0)},h=()=>{l=!0,u=d=!1},g=()=>{l=!1,Xe()&&(u=!0)};return t.addEventListener(`scroll`,p),t.addEventListener(`wheel`,m,{passive:!0}),t.addEventListener(`touchstart`,h,{passive:!0}),t.addEventListener(`touchend`,g,{passive:!0}),{_dispose:()=>{t.removeEventListener(`scroll`,p),t.removeEventListener(`wheel`,m),t.removeEventListener(`touchstart`,h),t.removeEventListener(`touchend`,g),f._cancel()},_fixScrollJump:()=>{let[t,a]=e._flushJump();t&&(i(vt(t,n),a,d),d=!1,a&&e.$getViewportSize()>e.$getTotalSize()&&e.$update(rt,r()))}}},bt=(e,t,n)=>{let r;return[async(i,a)=>{if(!await t())return;r&&r();let o=()=>{let[t,n]=W();return r=()=>{n(!1)},e.$getViewportSize()&&gt(r,150),[t,e.$subscribe(dt,()=>{n(!0)})]};if(a&&Ze())e.$update(ut,i()),Le(async()=>{for(;;){let t=!0;for(let[n,r]=e.$getRange();n<=r;n++)if(e.$isUnmeasuredItem(n)){t=!1;break}if(t)break;let[n,r]=o();try{if(!await n)return}finally{r()}}e.$update(lt),n(i(),a)});else for(;;){let[t,r]=o();try{if(e.$update(lt),n(i()),!await t)return}finally{r()}}},()=>{r&&r()}]},xt=(e,t)=>{let n,r,i=W(),a=t?`scrollLeft`:`scrollTop`,o=t?`overflowX`:`overflowY`,[s,c]=bt(e,()=>i[0],(e,r)=>{e=vt(e,t),r?n.scrollTo({[t?`left`:`top`]:e,behavior:`smooth`}):n[a]=e});return{$observe(s){n=s,r=yt(e,s,t,()=>vt(s[a],t),(t,n,r)=>{if(r){let e=s.style,t=e[o];e[o]=`hidden`,gt(()=>{e[o]=t})}s[a]=e.$getScrollOffset()+t,n&&c()}),i[1](!0)},$dispose(){r&&r._dispose(),i[1](!1),i=W()},$scrollTo(e){s(()=>e)},$scrollBy(t){t+=e.$getScrollOffset(),s(()=>t)},$scrollToIndex(t,{align:n,smooth:r,offset:i=0}={}){if(t=Ie(t,0,e.$getItemsLength()-1),n===`nearest`){let r=e.$getItemOffset(t),i=e.$getScrollOffset();if(r<i)n=`start`;else if(r+e.$getItemSize(t)>i+e.$getViewportSize())n=`end`;else return}s(()=>i+e.$getStartSpacerSize()+e.$getItemOffset(t)+(n===`end`?e.$getItemSize(t)-e.$getViewportSize():n===`center`?(e.$getItemSize(t)-e.$getViewportSize())/2:0),r)},$fixScrollJump:()=>{r&&r._fixScrollJump()}}},St=e=>{let t;return{_observe(n){(t||=new(Je(qe(n))).ResizeObserver(e)).observe(n)},_unobserve(e){t.unobserve(e)},_dispose(){t&&t.disconnect()}}},Ct=(e,t)=>{let n,r=t?`width`:`height`,i=new WeakMap,a=St(t=>{let a=[];for(let{target:o,contentRect:s}of t){if(!o.offsetParent)continue;if(o===n)e.$update(ot,s[r]);else{let e=i.get(o);e!=B&&a.push([e,s[r]])}}a.length&&e.$update(at,a)});return{$observeRoot(e){a._observe(n=e)},$observeItem:(e,t)=>(i.set(e,t),a._observe(e),()=>{i.delete(e),a._unobserve(e)}),$dispose:a._dispose}},wt=e=>{let t;e=R({_as:`div`},e),F(()=>{t&&A(e._resizer(t,e._index))});let n=P(()=>{let t=e._isHorizontal,n={contain:`layout style`,position:`absolute`,[t?`height`:`width`]:`100%`,[t?`top`:`left`]:`0px`,[t?Ye()?`right`:`left`:`top`]:e._offset+`px`,visibility:e._hide?`hidden`:void 0};return t&&(n.display=`inline-flex`),n});return M(ae,{get component(){return e._as},get index(){return e._index},ref(e){var n=t;typeof n==`function`?n(e):t=e},get style(){return n()},get children(){return e._children}})},Tt=(e,t)=>e[0]===t[0]&&e[1]===t[1],Et=e=>{let t,{itemSize:n,horizontal:r=!1,cache:i}=e;e=R({as:`div`},e);let a=ht(e.data.length,n,void 0,i,!n),o=Ct(a,r),s=xt(a,r),[c,l]=D(a.$getStateVersion());a.$subscribe(Q,()=>{l(a.$getStateVersion())}),a.$subscribe(ft,()=>{var t;(t=e.onScroll)==null||t.call(e,a.$getScrollOffset())}),a.$subscribe(pt,()=>{var t;(t=e.onScrollEnd)==null||t.call(e)});let u=P(t=>{c();let n=a.$getRange(e.bufferSize);return t&&Tt(t,n)?t:n}),d=P(()=>c()&&a.$isScrolling()),f=P(()=>c()&&a.$getTotalSize());Ee(()=>{e.ref&&e.ref({get cache(){return a.$getCacheSnapshot()},get scrollOffset(){return a.$getScrollOffset()},get scrollSize(){return mt(a)},get viewportSize(){return a.$getViewportSize()},findStartIndex:a.$findStartIndex,findEndIndex:a.$findEndIndex,getItemOffset:a.$getItemOffset,getItemSize:a.$getItemSize,scrollToIndex:s.$scrollToIndex,scrollTo:s.$scrollTo,scrollBy:s.$scrollBy});let n=e.scrollRef||t.parentElement;o.$observeRoot(n),s.$observe(n),A(()=>{e.ref&&e.ref(),a.$dispose(),o.$dispose(),s.$dispose()})}),ue(De(()=>e.startMargin||0,e=>{e!==a.$getStartSpacerSize()&&a.$update(ct,e)})),F(De(c,()=>{s.$fixScrollJump()}));let p=P(()=>{let t=e.data.length;Te(()=>{t!==a.$getItemsLength()&&a.$update(st,[t,e.shift])});let n=[],r=[];if(e.keepMounted){let t=new Set(e.keepMounted);for(let[e,n]=u();e<=n;e++)t.add(e);U([...t]).forEach(t=>{n.push(e.data[t]),r.push(t)})}else for(let[t,i]=u();t<=i;t++)n.push(e.data[t]),r.push(t);return{_items:n,_indexes:r}}),m=(t,n)=>{let i=P(()=>(c(),a.$getItemOffset(n()))),s=P(()=>(c(),a.$isUnmeasuredItem(n()))),l=P(()=>Te(()=>e.children(t,n)));return M(wt,{get _as(){return e.item},get _index(){return n()},get _resizer(){return o.$observeItem},get _offset(){return i()},get _hide(){return s()},get _children(){return l()},_isHorizontal:r})};return M(ae,{get component(){return e.as},ref(e){var n=t;typeof n==`function`?n(e):t=e},get style(){return{contain:`size style`,"overflow-anchor":`none`,flex:`none`,position:`relative`,width:r?f()+`px`:`100%`,height:r?`100%`:f()+`px`,"pointer-events":d()?`none`:void 0}},get children(){return M(I,{get each(){return p()._items},children:(e,t)=>{let n=P(()=>p()._indexes[t()]);return m(e,n)}})}})},Dt=k(`<div class="flex h-4 items-center">`),Ot=k(`<span class=align-middle>`),kt=k(`<div class="flex h-full flex-col gap-2"><div class="flex w-full flex-wrap items-center gap-2"><div class="flex items-center gap-2"><div class="tabs-box tabs gap-2 tabs-sm"></div><div class="flex items-center"><span class="mr-2 hidden lg:inline-block">:</span><input type=checkbox class=toggle></div><select class="select flex-1 select-sm select-primary"><option value></option></select></div><div class="join flex flex-1 items-center"><input type=search class="input input-sm join-item flex-1 input-primary"></div></div><div class="h-full overflow-x-auto rounded-md bg-base-300"><table><thead>`),At=k(`<button><span></span><div class="badge badge-sm">`),jt=k(`<option>`),Mt=k(`<div class="loading loading-spinner">`),Nt=k(`<tr class=flex>`),Pt=k(`<th class=bg-base-200><div><div>`),Ft=k(`<button class=cursor-pointer>`),It=k(`<td class="inline-block py-2 break-words">`),Lt=k(`<button><div></div><div></div><div>(<!>)`),$=function(e){return e[e.activeConnections=0]=`activeConnections`,e[e.closedConnections=1]=`closedConnections`,e}($||{}),Rt=(e,t,r,i)=>{let a=n(e.getValue(t),r);return i({itemRank:a}),a.passed},zt=()=>{let n=le();if(!ge())return n(`/setup`,{replace:!0}),null;let g,y,[S]=O(),[C,ae]=D($.activeConnections),{activeConnections:k,closedConnections:A,paused:ce,setPaused:ue}=be(),[fe,R]=D(!1),[Te,Ee]=D(``),[B,V]=we(D(!1),{name:`enableQuickFilter`,storage:localStorage}),[H,Pe]=D(),Fe=[{header:()=>S(`details`),enableGrouping:!1,enableSorting:!1,enableColumnFilter:!1,enableGlobalFilter:!1,accessorKey:j.Details,cell:({row:e})=>(()=>{var t=Dt();return p(t,M(z,{class:`btn-circle btn-xs`,onClick:()=>{Pe(e.original.id),y?.showModal()},get icon(){return M(Oe,{size:`16`})}})),t})()},{header:()=>S(`close`),enableGrouping:!1,enableSorting:!1,enableColumnFilter:!1,enableGlobalFilter:!1,accessorKey:j.Close,cell:({row:e})=>(()=>{var t=Dt();return p(t,M(z,{class:`btn-circle btn-xs`,onClick:()=>de(e.original.id),get icon(){return M(x,{size:`16`})}})),t})()},{header:()=>S(`ID`),enableGrouping:!1,accessorKey:j.ID,accessorFn:e=>e.id},{header:()=>S(`type`),accessorKey:j.Type,accessorFn:e=>`${e.metadata.type}(${e.metadata.network})`},{header:()=>S(`process`),accessorKey:j.Process,accessorFn:e=>e.metadata.process||e.metadata.processPath.replace(/^.*[/\\](.*)$/,`$1`)||`-`},{header:()=>S(`host`),accessorKey:j.Host,accessorFn:e=>`${e.metadata.host?e.metadata.host:v(e.metadata.destinationIP)}:${e.metadata.destinationPort}`},{header:()=>S(`sniffHost`),accessorKey:j.SniffHost,accessorFn:e=>e.metadata.sniffHost||`-`},{header:()=>S(`rule`),accessorKey:j.Rule,accessorFn:e=>e.rulePayload?`${e.rule} : ${e.rulePayload}`:e.rule},{header:()=>S(`chains`),accessorKey:j.Chains,cell:({row:t})=>M(I,{get each(){return t.original.chains.slice().reverse()},children:(t,n)=>[M(me,{get when(){return n()},get children(){return M(e,{class:`inline-block`,size:18})}}),(()=>{var e=Ot();return p(e,t),e})()]})},{header:()=>S(`connectTime`),enableGrouping:!1,accessorKey:j.ConnectTime,accessorFn:e=>w(e.start),sortingFn:(e,t)=>(0,Ne.default)(e.original.start).valueOf()-(0,Ne.default)(t.original.start).valueOf()},{header:()=>S(`dlSpeed`),enableGrouping:!1,accessorKey:j.DlSpeed,accessorFn:e=>`${_(e.downloadSpeed)}/s`,sortingFn:(e,t)=>e.original.downloadSpeed-t.original.downloadSpeed},{header:()=>S(`ulSpeed`),enableGrouping:!1,accessorKey:j.UlSpeed,accessorFn:e=>`${_(e.uploadSpeed)}/s`,sortingFn:(e,t)=>e.original.uploadSpeed-t.original.uploadSpeed},{header:()=>S(`dl`),enableGrouping:!1,accessorKey:j.Download,accessorFn:e=>_(e.download),sortingFn:(e,t)=>e.original.download-t.original.download},{header:()=>S(`ul`),enableGrouping:!1,accessorKey:j.Upload,accessorFn:e=>_(e.upload),sortingFn:(e,t)=>e.original.upload-t.original.upload},{header:()=>S(`sourceIP`),accessorKey:j.SourceIP,accessorFn:e=>{let t=e.metadata.sourceIP||S(`inner`);return ie().find(e=>e.sourceIP===t)?.tagName||t}},{header:()=>S(`sourcePort`),accessorKey:j.SourcePort,accessorFn:e=>e.metadata.sourcePort},{header:()=>S(`destination`),accessorKey:j.Destination,accessorFn:e=>e.metadata.remoteDestination||e.metadata.destinationIP||e.metadata.host},{header:()=>S(`inboundUser`),accessorKey:j.InboundUser,accessorFn:e=>e.metadata.inboundUser||e.metadata.inboundName||e.metadata.inboundPort}],[Ie,U]=D([]),[Le,W]=we(D([{id:j.ConnectTime,desc:!0}]),{name:`connectionsTableSorting`,storage:localStorage}),G=d({filterFns:{fuzzy:Rt},state:{get columnOrder(){return ne()},get grouping(){return Ie()},get sorting(){return Le()},get columnVisibility(){return oe()},get globalFilter(){return Te()}},get data(){let e=C()===$.activeConnections?k():A();if(e.sort((e,t)=>e.id.localeCompare(t.id)),!B())return e;let t=new RegExp(b(),`i`);return e.filter(e=>!t.test(e.chains.join(``)))},sortDescFirst:!0,enableHiding:!0,columns:Fe,onGlobalFilterChange:Ee,globalFilterFn:Rt,onGroupingChange:U,onSortingChange:W,getFilteredRowModel:t(),getSortedRowModel:u(),getExpandedRowModel:a(),getGroupedRowModel:c(),getCoreRowModel:l()}),K=G.getFlatHeaders().find(({id:e})=>e===j.SourceIP),[q,Re]=D(``);F(De(q,()=>{let e=ie().find(e=>e.sourceIP===q());K?.column.setFilterValue(e?e.tagName:q())}));let ze=P(()=>[{type:$.activeConnections,name:S(`active`),count:k().length},{type:$.closedConnections,name:S(`closed`),count:A().length}]),J;return[M(xe,{get children(){return S(`connections`)}}),(()=>{var e=kt(),t=e.firstChild,n=t.firstChild,a=n.firstChild,c=a.nextSibling,l=c.firstChild,u=l.firstChild,d=l.nextSibling,_=c.nextSibling,v=_.firstChild,b=n.nextSibling,w=b.firstChild,D=t.nextSibling,O=D.firstChild,k=O.firstChild;p(a,M(se,{get each(){return ze()},children:e=>(()=>{var t=At(),n=t.firstChild,r=n.nextSibling;return t.$$click=()=>ae(e().type),p(n,()=>e().name),p(r,()=>e().count),N(()=>E(t,h(C()===e().type&&`bg-primary !text-neutral`,`tab gap-2 px-2`))),t})()})),p(l,()=>S(`quickFilter`),u),d.addEventListener(`change`,e=>V(e.target.checked)),_.addEventListener(`change`,e=>Re(e.target.value)),p(v,()=>S(`all`)),p(_,M(se,{get each(){return(0,Me.uniq)(T().map(({metadata:{sourceIP:e}})=>{let t=e||S(`inner`);return ie().find(e=>e.sourceIP===t)?.tagName||t})).sort()},children:e=>(()=>{var t=jt();return p(t,e),N(()=>t.value=e()),t})()}),null),w.$$input=e=>Ee(e.target.value),p(b,M(z,{class:`btn join-item btn-sm btn-primary`,onClick:()=>ue(e=>!e),get icon(){return L(()=>!!ce())()?M(r,{}):M(i,{})}}),null),p(b,M(z,{class:`btn join-item btn-sm btn-primary`,onClick:async()=>{R(!0),G.getState().globalFilter?await Promise.allSettled(G.getFilteredRowModel().rows.map(({original:e})=>de(e.id))):await m(),R(!1)},get icon(){return L(()=>!!fe())()?Mt():M(x,{})}}),null),p(b,M(z,{class:`btn join-item btn-sm btn-primary`,onClick:()=>g?.showModal(),get icon(){return M(ee,{})}}),null);var A=J;return typeof A==`function`?ye(A,D):J=D,p(k,M(I,{get each(){return G.getHeaderGroups()},children:e=>(()=>{var t=Nt();return p(t,M(I,{get each(){return e.headers},children:e=>(()=>{var t=Pt(),n=t.firstChild,r=n.firstChild;return t.style.setProperty(`width`,`150px`),p(n,(()=>{var t=L(()=>!!e.column.getCanGroup());return()=>t()?(()=>{var t=Ft();return re(t,`click`,e.column.getToggleGroupingHandler(),!0),p(t,(()=>{var t=L(()=>!!e.column.getIsGrouped());return()=>t()?M(Ae,{size:18}):M(ke,{size:18})})()),t})():null})(),r),re(r,`click`,e.column.getToggleSortingHandler(),!0),p(r,()=>s(e.column.columnDef.header,e.getContext())),p(n,()=>({asc:M(f,{}),desc:M(o,{})})[e.column.getIsSorted()]??null,null),N(t=>{var i=h(`flex items-center gap-2`),a=h(e.column.getCanSort()&&`cursor-pointer select-none`,`flex-1`);return i!==t.e&&E(n,t.e=i),a!==t.t&&E(r,t.t=a),t},{e:void 0,t:void 0}),t})()})),t})()})),p(O,M(Et,{scrollRef:J,get data(){return G.getRowModel().rows},as:`tbody`,item:`tr`,children:e=>M(I,{get each(){return e.getVisibleCells()},children:t=>(()=>{var n=It();return n.$$contextmenu=e=>{e.preventDefault();let n=t.renderValue();n&&je(n).catch(()=>{})},n.style.setProperty(`width`,`150px`),p(n,(()=>{var n=L(()=>!!t.getIsGrouped());return()=>n()?(()=>{var n=Lt(),r=n.firstChild,i=r.nextSibling,a=i.nextSibling,o=a.firstChild,c=o.nextSibling;return c.nextSibling,re(n,`click`,e.getToggleExpandedHandler(),!0),p(r,(()=>{var t=L(()=>!!e.getIsExpanded());return()=>t()?M(Ae,{size:18}):M(ke,{size:18})})()),p(i,()=>s(t.column.columnDef.cell,t.getContext())),p(a,()=>e.subRows.length,c),N(()=>E(n,h(e.getCanExpand()?`cursor-pointer`:`cursor-normal`,`flex items-center gap-2`))),n})():L(()=>!!t.getIsAggregated())()?s(t.column.columnDef.aggregatedCell??t.column.columnDef.cell,t.getContext()):L(()=>!!t.getIsPlaceholder())()?null:s(t.column.columnDef.cell,t.getContext())})()),n})()})}),null),p(e,M(Se,{ref:e=>g=e,get order(){return ne()},get visible(){return oe()},onOrderChange:e=>he(e),onVisibleChange:e=>Ce({...e})}),null),p(e,M(pe,{ref:e=>y=e,get selectedConnectionID(){return H()}}),null),N(e=>{var t=S(`search`),n=h(_e(te()),`table-pin-rows table table-zebra`);return t!==e.e&&ve(w,`placeholder`,e.e=t),n!==e.t&&E(O,e.t=n),e},{e:void 0,t:void 0}),N(()=>d.checked=B()),e})()]};C([`input`,`click`,`contextmenu`]);export{zt as default};